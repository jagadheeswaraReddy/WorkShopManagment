<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:pe="http://primefaces.org/ui/extensions" >

	<f:metadata>
		<f:viewAction action="#{agStatementManagedBean.resetData}" />
    	<f:event type="preRenderView" listener="#{loginAuthenticationBean.hasPageAccess('JB02')}" />
    </f:metadata>
<ui:composition template="/templates/userlayout.xhtml">
<ui:define name="title">Generate AG Statement</ui:define>
<ui:define name="content">
	<table width="100%">
	        <tr>
	          	<td align="right">
	 	 			<span style="color: grey;" >JB0201</span>
	 			</td>
	        </tr>
	        
	        <tr>      
		      	 <td>
					<h1>Generate AG Statement</h1>
				 </td>
	 		</tr>
	 	</table>
	
				<p:panel id="toggleable" header="AG Statement"  toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px">
									<h:form id="agStatementForm">
									<p:messages showDetail="false" autoUpdate="true"/>
									<table style="width: 50%;padding: 10px;border-spacing: 10px;border-collapse: separate;">
										<tr>
											<td>
												<h:outputText value="Account Number" />
											</td>
											<td>
												<p:inputText id="accountNumber" value="#{agStatementManagedBean.accountNumber}" size="19" maxlength="19" required="true" requiredMessage="Account Number Required"/>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="Account Type" />
											</td>
											<td>
												 <p:selectOneMenu value="#{agStatementManagedBean.accountType}" id="accountType" effect="fade" required="true" requiredMessage="Please select Account Type" size="19">
												<f:selectItem itemLabel="Select One" itemValue="" />
												<f:selectItem itemLabel="SAVING" itemValue="S" />
												<f:selectItem itemLabel="CURRENT" itemValue="D" />
																														
												</p:selectOneMenu>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="From Date" />
											</td>
											<td>
												<p:calendar id="fromDate" value="#{agStatementManagedBean.fromDate}"  showOn="button"  pattern="dd/MM/yy" required="true" requiredMessage="ProcessDate Required"/>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="To Date" />
											</td>
											<td>
												<p:calendar id="toDate" value="#{agStatementManagedBean.toDate}"  showOn="button"  pattern="dd/MM/yy" required="true" requiredMessage="ProcessDate Required"/>
											</td>
										</tr>
							
										<tr>
											<td colspan="4" align="right">
										        <p:commandButton value="Generate" ajax="false" actionListener="#{agStatementManagedBean.generateAGStatement}">
										        <p:fileDownload value="#{agStatementManagedBean.approvedFile}" />
										        </p:commandButton>
											</td>
											<td colspan="4" align="right">
										        <p:commandButton value="Reset" ajax="false" actionListener="#{agStatementManagedBean.resetData}">
										        </p:commandButton>
											</td>
										</tr>
										
									</table>
							        </h:form>      
							       <p:growl id="growl" showDetail="true" life="1000"/> 
			</p:panel>
					
  </ui:define>    
	
</ui:composition>
</ui:composition>

